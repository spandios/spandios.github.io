---
layout: post
title: Singleton Pattern이란
date: 2024-05-16 08:00 +0900
img_path: /assets/images/
category: design-pattern
tags: [ design-pattern, 객체 생성 ]
---


# 팩터리 메서드 패턴

팩터리 메서드 패턴은 객체 생성 패턴 중의 하나로, 객체 생성을 특정 서브 클래스에서 결정하도록 하는 패턴이다.

즉, 클라이언트가 직접 객체 생성하는게 아닌 공장 클래스에 위임함으로써 객체 생성의 책임을 분리 할 수 있다.

추가적으로 객체 생성 전 후로 추가적인 로직이 필요한 경우도 팩터리 메서드 패턴을 사용해 효과적으로 처리할 수 있다.

![](/assets/images/factory-method-1.png)


위의 그림은 팩터리 메서드 패턴의 구조를 나타낸다. 

- Creator: 최상위 클래스로 팩터리 메서드를 추상화한 클래스(인터페이스)이다. 
  - 팩터리 메서드(createProduct): 객체 생성을 위한 메서드로, 서브 클래스에서 구현해야 한다.
  - 객체 생성 관련 메서드(someOperation): 객체 생성 전 후로 추가적인 로직이 필요한 경우에 사용한다.
- ConcreteCreator: Creator를 구현한 클래스로, 객체 생성을 위한 팩터리 메서드를 실제로 구현한다. 실제 객체 마다 하나씩 구현한다. 
- Product: 팩터리 메서드를 통해 생성되는 객체의 인터페이스다
- ConcreteProduct: Product 인터페이스를 구현한 클래스로, 실제 객체를 생성한다.



# Before 팩터리 메서드 패턴 
어떤 객체가 계속 요구사항이 추가되어 구현체 클래스가 점점 늘어나고, 추가된 요구사항을 위해 기존 객체 코드를 매번 수정해야 하는 경우가 발생한다.

또 클라이언트의 코드도 계속 수정해야 하는 경우가 발생한다. 이는 객체지향 설계 원칙 중 하나인 개방 폐쇄 원칙(OCP)을 위반하는 것이다.

아래는 팩터리 메서드 패턴을 적용하기 전의 예시이다.

```kotlin

class Ship{
  
}
```



## 팩터리 메서드 패턴 적용 후
이 때 팩터리 메서드 패턴을 사용하면 객체 생성을 서브 클래스에서 결정하도록 하여 확장성을 높일 수 있다. 

